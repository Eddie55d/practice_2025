# Инструкция по запуску проекта "Фармацевт-Консультант"

## Предварительные требования

- **Node.js** (версия 16 или выше)
- **CLIPS** (версия 6.4 или выше)
- **npm** или **yarn**

## Установка и запуск

### 1. Клонирование репозитория

```bash
git clone <https://github.com/Eddie55d/practice_2025/task_03.git>
cd <папка проекта>
```

### 2. Установка CLIPS

#### Для Windows  

1. Скачайте CLIPS с официального сайта: <http://www.clipsrules.net/Downloads.html>
2. Установите в систему или добавьте исполняемый файл в PATH
3. Или поместите `clips.exe` в папку `server/`

#### Для Linux (Ubuntu/Debian)  

```bash
sudo apt-get update
sudo apt-get install clips
```

### 3. Настройка серверной части

```bash
# Переходим в папку сервера
cd server

# Устанавливаем зависимости
npm install

# Проверяем наличие CLIPS файла
ls -la expert-system.clp  # Должен быть в корне server/
```

### 4. Запуск сервера

```bash
# В папке server/
npm start
```

Сервер должен запуститься на порту 5000:

```text
Сервер запущен на порту 5000
API доступно по http://localhost:5000/api
CLIPS инициализируется...
CLIPS успешно инициализирован
```

### 5. Настройка клиентской части

```bash
# Открываем новое окно терминала
# Переходим в папку клиента
cd pharma

# Устанавливаем зависимости
npm install

# Запускаем клиент
npm start
```

Клиент должен открыться в браузере:

```text
http://localhost:3000
```

## Структура проекта

```text
фармацевт-консультант/
├── server/
│   ├── expert-system.clp      # База знаний CLIPS
│   ├── package.json
│   ├── server.js             # Express сервер
│   └── ... (другие файлы сервера)
└── pharma/
    ├── src/
    │   ├── App.js            # Основной компонент React
    │   └── ... (другие файлы клиента)
    ├── package.json
    └── public/
```

## Проверка работоспособности

### Тест API сервера

```bash
curl http://localhost:5000/api/health
```

Ожидаемый ответ:

```json
{
  "status": "OK",
  "message": "Сервер и CLIPS работают",
  "system": "Экспертная система Фармацевт-Консультант"
}
```

### Тест типов симптомов

```bash
curl http://localhost:5000/api/symptom-types
```

## Пример использования

1. Откройте <http://localhost:3000> в браузере
2. Заполните данные пациента:
   - Имя: "Иван Петров"
   - Возраст: 35
   - Пол: Мужской
3. Выберите симптомы:
   - Боль (интенсивность 7)
   - Температура (интенсивность 5)
4. Нажмите "Получить рекомендации"

## Возможные проблемы и решения

### Проблема: CLIPS не найден

**Решение:**

```bash
# Проверьте установку CLIPS
clips -v

# Если не установлен, добавьте в PATH или поместите в папку server/
```

### Проблема: Порт 5000 занят

**Решение:** Измените порт в server/server.js:

```javascript
const PORT = process.env.PORT || 5001; // Используйте другой порт
```

### Проблема: CORS ошибки

**Решение:** Убедитесь, что клиент запущен на порту 3000, а сервер на порту 5000

### Проблема: Ошибка загрузки симптомов

**Решение:** Проверьте подключение к серверу и наличие файла expert-system.clp
